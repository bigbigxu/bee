## 创建数据库配置。
创建数据库配置文件db.php, 在main.php文件注册`db => 'db.php'`

	'main' => array(
	        'dsn' => 'mysql:host=chess.by.com;dbname=chess',
	        'username' => 'root',
	        'password' => '',
	        'cache' => 'cache',
	        'slaves' => [
	            'mysql:host=chess.by.com;dbname=chess'
	        ]
	   ),


配置项说明：

1. dsn 驱动类型。
2. username，password 用户名密码。
3. cache，使用的数据库表结构缓存组件。
4. slaves，从库列表。查询操作是会随机选择一个从库执行。

## 增加模型类
创建文件model/BidInfo.php

	<?php
	namespace app\model;
	class BidInfo extends \CoreModel
	{
	    /*
	     * 申明使用的数据库配置。
	     */
	    public function db($name = 'db.main')
	    {
	        return parent::db($name);
	    }
	
	    /**
	     * 申明表名
	     */
	    public function tableName()
	    {
	        return 'bid_info';
	    }
	}

### 增加数据操作

	$model = \app\model\BidInfo::getInstance();
	$model->insert([
	    'game' => 'chess',
	    'bid' => 101,
	    'name' => 'ios'
	]);
	echo $model->lastId();

### 修改数据
1. 根据where 条件修改

		$model = \app\model\BidInfo::getInstance();
		echo $model->from()
		    ->where("id=:id")
		    ->params([':id' => 1])
		    ->update(['name' => 'test']);
2. 根据主键修改


		$model = \app\model\BidInfo::getInstance();
		echo $model->updateById(['name' => 'test2'], 2);
3. 根据属性修改  
 

		$model = \app\model\BidInfo::getInstance();
		echo $model->updateByAttr([
		    'name' => 'test2',
		    'bid' => 1000,
		    'id' => 2
		], ['id', 'name']);
3. 插入或修改 

		$model = \app\model\BidInfo::getInstance();
		echo $model->save([
		    'name' => 'test2',
		    'bid' => 10001,
		    'id' => 2
		], ['id', 'name']);

### 删除数据
1. 根据where条件删除  

		$model = \app\model\BidInfo::getInstance();
		echo $model->from()
		    ->where("id=:id")
		    ->params([':id' => 1])
		    ->delete(['name' => 'test']);
2. 根据主键删除  

		$model = \app\model\BidInfo::getInstance();
		echo $model->deleteById(2);
3. 根据属性删除 

		$model = \app\model\BidInfo::getInstance();
		echo $model->deleteByAttr([
		    'name' => 'test2',
		    'bid' => 10001,
		]);	

### 查询数据
1. 根据where条件查询　

		$model = \app\model\BidInfo::getInstance();
		$res =  $model->from()
		    ->where("bid=:bid")
		    ->params([":bid" => 101])
		    ->all();
2. 根据主键查询


		$model = \app\model\BidInfo::getInstance();
		$res = $model->findById(1);
3. 根据属性查询

		$model = \app\model\BidInfo::getInstance();
		$res = $model->findByAttr([
		    'game' => 'chess'
		]);
4. 链式操作

		$model = \app\model\BidInfo::getInstance();
		$res = $model->from()
		    ->field('booth_id, prize_pool, add_time')
		    ->andFilter('add_time', '>=', time() - 3600)
		    ->andFilter('is_delete', '=', 0)
		    ->order('prize_pool desc, add_time desc')
		    ->limit("0, 100")
		    ->all();
		Functions::showArr($res);
5. join 表

		$model = \app\model\BidInfo::getInstance();
		$model->from()
		    ->leftjoin('goods a', 't.goods_id=a.goods_id')
		    ->andFilter('num_bid', '=', 1)
		    ->andFilter('is_on_sale', '=', 1)
		    ->order('goods_sort asc,id asc')
		    ->all();

